<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>لعبة ظل المعنى - 𖤍|𝐑𝐄𝐃𝐒𝐖𝐎𝐑𝐃🇦🇷</title>
  <!-- تحميل Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* الخط الأساسي */
    body {
      font-family: 'Inter', sans-serif;
      direction: rtl; /* لضمان دعم اللغة العربية */
    }
    /* إخفاء العناصر */
    .hidden { display: none !important; }

    /* Custom style for the copy button */
    .copy-btn {
      background-color: #4a5568; /* Gray-700 */
      color: #cbd5e0; /* Gray-300 */
      padding: 0.25rem 0.5rem; /* py-1 px-2 */
      border-radius: 0.375rem; /* rounded-md */
      font-size: 0.75rem; /* text-xs */
      font-weight: bold;
      transition: background-color 0.3s ease-in-out;
      margin-right: 0.5rem; /* mr-2 */
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .copy-btn:hover {
      background-color: #2d3748; /* Gray-800 */
    }
    .copy-btn svg {
      width: 1rem;
      height: 1rem;
      fill: currentColor;
    }
    .hint-item {
      display: flex;
      align-items: center;
      margin-bottom: 0.5rem; /* mb-2 */
      background-color: #2d3748; /* Darker background for each hint line */
      padding: 0.5rem;
      border-radius: 0.5rem;
    }
    .hint-item:last-child {
      margin-bottom: 0;
    }
    .hint-text {
      flex-grow: 1;
      color: #e2e8f0; /* Gray-200 */
      font-size: 1.125rem; /* text-lg */
    }
    /* Message box for copy confirmation */
    .message-box {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #2d3748; /* Gray-800 */
      color: #e2e8f0;
      padding: 1rem 2rem;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    }
    .message-box.show {
      opacity: 1;
    }
  </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex flex-col items-center py-8 px-4">

      /* تنسيقات نافذة كلمة المرور */
<div id="loginPage" style="direction:rtl;background:linear-gradient(135deg,#1a2a6c,#b21f1f);height:100vh;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;z-index:1000;">
  <div style="background:rgba(0,0,0,0.8);padding:40px;border-radius:15px;box-shadow:0 15px 25px rgba(0,0,0,0.5);width:90%;max-width:400px;text-align:center;border:1px solid rgba(255,255,255,0.1);">
    <h1 style="color:#fff;font-size:2rem;margin-bottom:10px;text-shadow:0 0 10px rgba(255,0,0,0.7);">𖤍 | 𝐑𝐄𝐃𝐒𝐖𝐎𝐑𝐃</h1>
    <p style="color:#f8f8f8;margin-bottom:30px;">لعبة ظل المعنى</p>
    
    <div style="position:relative;margin-bottom:25px;">
      <input id="loginPassword" type="password" placeholder="كلمة المرور" style="width:100%;padding:12px 15px 12px 40px;background:rgba(255,255,255,0.1);border:none;border-radius:25px;color:#fff;font-size:16px;border:2px solid transparent;transition:all 0.3s;">
      <i class="fas fa-lock" style="position:absolute;right:15px;top:50%;transform:translateY(-50%);color:#ff0000;"></i>
    </div>
    
    <button onclick="checkPassword()" style="width:100%;padding:12px;background:linear-gradient(45deg,#ff0000,#ff7300);border:none;border-radius:25px;color:white;font-size:16px;cursor:pointer;transition:all 0.3s;">الدخول إلى اللعبة</button>
    
    <p id="loginError" style="color:#ff5555;margin-top:15px;display:none;">كلمة المرور غير صحيحة!</p>
    <p style="color:rgba(255,255,255,0.6);margin-top:20px;font-size:14px;"> : مقفلة للحفاظ على سرية الاجابات</p>
  </div>
</div>

<script>
  function checkPassword() {
    const password = document.getElementById('loginPassword').value;
    const errorElement = document.getElementById('loginError');
    
    if (password === '998877') {
      document.getElementById('loginPage').style.display = 'none';
      document.getElementById('registration').style.display = 'block';
    } else {
      errorElement.style.display = 'block';
      document.getElementById('loginPassword').style.border = '2px solid #ff0000';
      setTimeout(() => {
        errorElement.style.display = 'none';
      }, 3000);
    }
  }
  
  // للسماح بالدخول عند الضغط على Enter
  document.getElementById('loginPassword').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      checkPassword();
    }
  });
</script>
  
  <!-- شعار وعنوان الموقع -->
  <header class="w-full max-w-2xl mb-8 text-center">
    <h1 class="text-5xl font-extrabold text-red-600 mb-2 drop-shadow-lg">𖤍|𝐑𝐄𝐃𝐒𝐖𝐎𝐑𝐃🇦🇷</h1>
    <!-- تم تكبير وتبريز اسم اللعبة -->
    <p id="gameTitle" class="text-4xl md:text-5xl font-extrabold text-red-400 drop-shadow-lg">لعبة ظل المعنى</p>
  </header>

  <div class="container bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-2xl">

    <!-- قسم التسجيل -->
    <section id="registration" class="mb-8">
      <h2 class="text-3xl font-bold text-red-500 mb-6 text-center">تسجيل الفرق</h2>
      
      <div class="mb-4">
        <label for="teamCount" class="block text-lg font-medium text-gray-300 mb-2">عدد الفرق:</label>
        <input type="number" id="teamCount" min="2" max="10" value="2"
               class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-lg" />
      </div>

      <div id="teamNames" class="space-y-3 mb-6">
        <!-- حقول أسماء الفرق سيتم إنشاؤها هنا بواسطة JavaScript -->
      </div>

      <button id="startGame"
              class="w-full bg-red-700 hover:bg-red-800 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-lg">
        بدء اللعبة
      </button>
    </section>

    <hr class="border-t-2 border-gray-700 my-8" />

    <!-- قسم اللعب -->
    <section id="game" class="hidden">
      <h2 class="text-3xl font-bold text-red-500 mb-6 text-center">اللعبة جارية</h2>

      <!-- جدول النقاط -->
      <div class="mb-8">
        <h3 class="text-2xl font-semibold text-gray-200 mb-4 text-center">لوحة النقاط</h3>
        <table class="w-full bg-gray-700 rounded-lg overflow-hidden shadow-md">
          <thead>
            <tr class="bg-red-800 text-white">
              <th class="py-3 px-4 text-lg">الفريق</th>
              <th class="py-3 px-4 text-lg">النقاط</th>
            </tr>
          </thead>
          <tbody id="scoreBoard">
            <!-- سيتم ملء هذا بواسطة JavaScript -->
          </tbody>
        </table>
      </div>

      <!-- اختيار الكلمة -->
      <div class="mb-6">
        <label for="wordSelect" class="block text-lg font-medium text-gray-300 mb-2">اختر الكلمة:</label>
        <select id="wordSelect"
                class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-lg">
          <option value="" disabled selected>-- اختر --</option>
          <!-- سيتم ملء الخيارات هنا بواسطة JavaScript -->
        </select>
      </div>

      <!-- عرض التلميحات -->
      <div id="hints" class="bg-gray-700 p-4 rounded-lg mb-6 shadow-inner">
        <p class="text-gray-400">التلميحات ستظهر هنا بعد اختيار الكلمة.</p>
      </div>

      <!-- تحديد الفريق -->
      <div class="mb-6">
        <label for="teamSelect" class="block text-lg font-medium text-gray-300 mb-2">أي فريق أجاب؟</label>
        <select id="teamSelect"
                class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-lg">
          <option value="" disabled selected>-- اختر الفريق --</option>
          <!-- سيتم ملء هذا بواسطة JavaScript -->
        </select>
      </div>

      <!-- أزرار النقاط -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
        <button data-points="5" class="point-btn bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md">
          أجاب من أول تلميح: 5 نقاط
        </button>
        <button data-points="4" class="point-btn bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md">
          أجاب من ثاني تلميح: 4 نقاط
        </button>
        <button data-points="3" class="point-btn bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md">
          أجاب من ثالث تلميح: 3 نقاط
        </button>
        <button data-points="2" class="point-btn bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md">
          أجاب من رابع تلميح: 2 نقاط
        </button>
        <button data-points="1" class="point-btn bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md">
          أجاب من خامس تلميح: 1 نقطة
        </button>
      </div>

      <hr class="border-t-2 border-gray-700 my-8" />

      <!-- المؤقت -->
      <div class="mb-8 text-center">
        <h3 class="text-2xl font-semibold text-gray-200 mb-4">المؤقت</h3>
        <label for="timerInput" class="block text-lg font-medium text-gray-300 mb-2">وقت العد (ثواني):</label>
        <input type="number" id="timerInput" value="30"
               class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-lg mb-4" />
        <div class="flex flex-wrap justify-center gap-4 mb-6">
          <button id="startTimer" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md flex-1 min-w-[120px]">ابدأ</button>
          <button id="pauseTimer" class="bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md flex-1 min-w-[120px]">إيقاف/استئناف</button>
          <button id="resetTimer" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md flex-1 min-w-[120px]">إعادة ضبط</button>
        </div>
        <h3 id="timeDisplay" class="text-6xl font-extrabold text-red-400 tracking-wider">00:30</h3>
        <!-- تم التعليق على ملف الصوت لأنه لن يعمل في بيئة المعاينة بدون استضافة -->
        <!-- <audio id="beepAudio">
          <source src="beep.mp3" type="audio/mpeg" />
        </audio> -->
      </div>

      <hr class="border-t-2 border-gray-700 my-8" />

      <button id="resetGame"
              class="w-full bg-red-800 hover:bg-red-900 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-lg">
        إعادة تهيئة اللعبة
      </button>
    </section>

  </div>

  <script>
    // عناصر DOM
    const registration = document.getElementById('registration');
    const game = document.getElementById('game');
    const teamCountInput = document.getElementById('teamCount');
    const teamNamesDiv = document.getElementById('teamNames');
    const startGameBtn = document.getElementById('startGame');
    const scoreBoard = document.getElementById('scoreBoard');
    const wordSelect = document.getElementById('wordSelect');
    const hintsDiv = document.getElementById('hints');
    const teamSelect = document.getElementById('teamSelect');
    const pointButtons = document.querySelectorAll('.point-btn');
    const timerInput = document.getElementById('timerInput');
    const timeDisplay = document.getElementById('timeDisplay');
    const startTimerBtn = document.getElementById('startTimer');
    const pauseTimerBtn = document.getElementById('pauseTimer');
    const resetTimerBtn = document.getElementById('resetTimer');
    // const beepAudio = document.getElementById('beepAudio');
    const resetGameBtn = document.getElementById('resetGame');

    let teams = [];
    // بيانات التلميحات الجديدة
    let hintsData = {
      "اعتراف": ["إزاحة الستار عن حقيقة كانت حبيسة.", "لحظة تتصالح فيها الذات مع ظلها.", "صوت يكسر قيود الصمت المطبق.", "بذرة شفاء تنبت في تربة الندم.", "فعل يمحو خطوط التيه."],
      "انتقام": ["صدى مرير لضربة قديمة.", "دائرة لا نهائية من اللهيب.", "محاولة يائسة لإعادة ترتيب الماضي.", "سم يسري في عروق الفاعل قبل المفعول به.", "ظل يطارد صاحبه في كل خطوة."],
      "تجاهل": ["فن إخفاء ما لا يرغب العقل في رؤيته.", "صمت أبلغ من ألف كلمة.", "درع واقٍ أو سيف قاطع.", "إبعاد الوجود عن حيز الإدراك.", "اختيار واعٍ لعدم الاستجابة."],
      "تفاخر": ["مرآة تعكس صورة متضخمة للذات.", "رقصة على أنغام الإعجاب المزعوم.", "محاولة لملء فراغ داخلي ببريق خارجي.", "صدى صوت يرتد على جدران الأنا.", "بناء وهمي من الكلمات."],
      "جشع": ["بئر لا يرتوي مهما صببت فيه.", "عين ترى العالم كغنيمة لا تنتهي.", "شهوة تلتهم ما قبلها وما بعدها.", "قيد ذهبي يربط الروح بالأرض.", "نار لا تترك خلفها إلا الرماد."],
      "حرمان": ["فراغ يتركه غياب ما كان يجب أن يكون.", "لحن ناقص في سيمفونية الحياة.", "ظل يطارد الروح في كل ركن.", "جرح خفي ينزف صمتًا.", "قصة لم تكتمل فصولها."],
      "خضوع": ["انحناءة أمام عاصفة لا تقاوم.", "استسلام لتيار أقوى من الإرادة.", "تخلٍ عن زمام القيادة للآخر.", "صمت يسبق قبول الأمر الواقع.", "نهاية لمعركة لم تبدأ."],
      "دفاع": ["جدار يُبنى في وجه الريح.", "صرخة غريزية في وجه الخطر.", "رد فعل يسبق التفكير.", "حائط صد بين الذات والتهديد.", "استعادة التوازن بعد اهتزاز."],
      "رحمة": ["مطر يسقي الأرض العطشى.", "يد تلمس الجرح فتلتئم.", "نور يضيء دروب الضعفاء.", "نبع يروي ظمأ القلوب القاسية.", "جسر يربط بين الألم والعزاء."],
      "سذاجة": ["عين ترى العالم كلوحة بيضاء.", "قلب لا يعرف تعقيدات الخداع.", "بساطة تتجاوز حواجز الشك.", "نقاء يفتقر إلى درع التجربة.", "طفل يصدق كل حكاية."],
      "شذوذ": ["نغمة خارجة عن السلم الموسيقي.", "نجم يضيء في غير مداره.", "كسر للقاعدة يثير الدهشة أو الرفض.", "خروج عن المسار المألوف.", "نقطة لا تنتمي إلى الخط."],
      "ضغينة": ["جمرة خفية تحت الرماد.", "صدى مرير لظلم قديم.", "قيد يربط الروح بالماضي.", "سم يتراكم في خفايا النفس.", "نار تحرق صاحبها قبل عدوه."],
      "طغيان": ["ظل يمتد ليغطي كل نور.", "سيف يقطع كل صوت حر.", "قوة لا تعرف حدودًا ولا رحمة.", "سجن واسع بلا قضبان مرئية.", "نهاية لكل ميزان."],
      "عناد": ["صخرة لا تتحرك أمام التيار.", "صوت يرفض الاستماع لأي صدى.", "جدار يُبنى حول قناعة واحدة.", "قوة تثبت أو تدمر.", "إبحار عكس الريح."],
      "فوضى": ["رقصة عشوائية بلا إيقاع.", "لوحة تتداخل فيها الألوان بلا معنى.", "عالم تكسرت فيه كل القواعد.", "رياح تقتلع كل ثابت.", "غياب اليد التي ترتب الكون."],
      "قناعة": ["كنز لا تراه العيون الجشعة.", "ميناء آمن في بحر المطامع.", "راحة الروح التي لا تطلب المزيد.", "اكتفاء يغني عن كنوز الأرض.", "إشراقة داخلية لا تحتاج لضوء خارجي."],
      "كآبة": ["غيمة سوداء تخيم على الروح.", "صمت يملأ الفراغ باليأس.", "ثقل لا تراه العيون، لكنه يضغط على الصدر.", "لون رمادي يصبغ كل شيء.", "نوم عميق بلا أحلام."],
      "لؤم": ["وجه يبتسم ويخفي خنجرًا.", "كلمة عسلية تخبئ سمًا.", "بئر عميق لا يروي ظمأ.", "صفة تكسر جسور الثقة.", "ظل يطارد صاحبه بالخيانة."],
      "مساومة": ["رقصة بين الأخذ والعطاء.", "ميزان يميل قليلاً لكل طرف.", "فن التنازل للوصول إلى هدف.", "حوار بين الإرادات المتصادمة.", "جسر يُبنى من التنازلات."],
      "نكران": ["محو للجميل من سجل الذاكرة.", "قلب يغلق أبوابه أمام الفضل.", "ظل يطارد صاحبه بالخزي.", "جحود يقطع أواصر الود.", "كلمة تمحو كل ما قبلها."],
      "هوس": ["فكرة تلتهم كل الأفكار الأخرى.", "نار تشتعل في العقل بلا توقف.", "قيد غير مرئي يربط الوعي بشيء واحد.", "شغف يتجاوز حدود العقل.", "رقصة مجنونة حول محور واحد."],
      "وسوسة": ["صوت خفي يزرع الشك في الحدائق.", "همس لا يسمعه إلا صاحبه.", "بذرة قلق تنمو في تربة العقل.", "ظل يتبع الفكرة ليغير مسارها.", "حوار داخلي لا ينتهي."],
      "يقظة": ["عين ترى ما لا يراه النائمون.", "وعي يسبق الخطر بخطوة.", "نور يضيء دروب الغفلة.", "حارس أمين على أبواب الوعي.", "استعداد دائم لمواجهة الحقيقة."],
      "امتنان": ["زهرة تنمو في حديقة القلب.", "نغم يصدح في أرجاء الروح.", "نور يضيء دروب العطاء.", "جسر يربط القلوب بالشكر.", "اعتراف صامت بالجميل."],
      "إهمال": ["غياب اليد التي ترعى البستان.", "صمت يغلف ما كان يجب أن يُسمع.", "ظل ينمو في زوايا المسؤولية.", "تآكل بطيء لما كان قويًا.", "نهاية صامتة لشيء حي."],
      "تهور": ["قفزة في الفراغ بلا مظلة.", "سهم ينطلق بلا هدف محدد.", "رقصة على حافة الهاوية.", "سرعة تسبق الحكمة.", "قرار يولد الندم."],
      "توبيخ": ["سيف من الكلمات يقطع الخطأ.", "صوت يكسر حاجز الصمت ليوقظ الوعي.", "مرآة تعكس صورة غير مرغوبة.", "مطر قاسٍ يغسل الأخطاء.", "درس قاسٍ يُلقى على مسامع الروح."],
      "جحود": ["قلب ينسى اليد التي مدت له.", "أرض لا تثمر رغم المطر.", "ظل يطارد صاحبه بالعار.", "صفة تقطع أواصر الود.", "صخرة لا تلين أمام العطاء."],
      "حقد": ["جمرة لا تطفئها المياه.", "سم يتراكم في أعماق الروح.", "نار تحرق صاحبها قبل أن تصل لعدوه.", "قيد يربط الروح بظلم الماضي.", "ظل يطارد صاحبه بالمرارة."],
      "خداع": ["قناع يستر وجه الحقيقة.", "خيط رفيع ينسج شبكة من الأوهام.", "مرآة تعكس صورة زائفة.", "فن تضليل العيون والقلوب.", "رقصة على حبل الكذب."],
      "دهاء": ["عقل يرى ما وراء الستار.", "يد تحرك الخيوط من خلف الكواليس.", "فن الوصول للهدف بأقل جهد.", "رقصة على حافة الذكاء والمكر.", "لغز لا يفك شفرته إلا القليل."],
      "رذيلة": ["بقعة سوداء تلطخ ثوب الروح.", "شوكة تنغرس في طريق الفضيلة.", "ظل يطارد صاحبه بالخزي.", "مرض يصيب القلب قبل الجسد.", "نغمة نشاز في سيمفونية الحياة."],
      "سخط": ["عاصفة داخلية تقتلع جذور الرضا.", "نار تشتعل في الصدر بلا رحمة.", "صوت يصرخ في وجه الواقع.", "غضب لا يجد له مخرجًا.", "مرارة تملأ الفم."],
      "شراهة": ["بئر لا يرتوي مهما صببت فيه.", "عين لا تشبع من النظر.", "جوع لا ينتهي مهما أكلت.", "رغبة تلتهم كل ما يقابلها.", "قيد يربط الروح بالجسد."],
      "طيش": ["رقصة خفيفة على حافة الهاوية.", "سهم ينطلق بلا هدف.", "قرار يولد الندم قبل أن يولد.", "خفة تسبق الثقل.", "عقل يرفض التفكير في العواقب."],
      "عقوبة": ["مرآة تعكس أثر الخطأ.", "ثمن يُدفع لتصحيح المسار.", "يد العدالة التي تضرب بلا رحمة.", "درس قاسٍ يُلقى على مسامع الروح.", "نهاية لخطأ، وبداية لتصحيح."],
      "فجور": ["كسر للقيود الأخلاقية بلا ندم.", "رقصة على أنغام الشهوات.", "طريق مظلم لا يرى نهايته.", "روح ترفض كل حدود.", "بقعة سوداء تلطخ ثوب المجتمع."],
      "قسوة": ["صخرة لا يلينها الماء.", "قلب لا يعرف الرحمة.", "يد تضرب بلا شفقة.", "برد يجمد المشاعر.", "جدار يُبنى حول الروح."],
      "كذب": ["ظل يطارد الحقيقة ليخفيها.", "قناع يستر وجه الواقع.", "حبل قصير ينقطع عند أول اختبار.", "بناء من الرمال ينهار عند أول ريح.", "كلمة تقتل الثقة."],
      "مؤامرة": ["شبكة من الخيوط الخفية تُنسج في الظلام.", "لحن يُعزف بصمت ليوقع بالفريسة.", "بذور شر تُزرع في الخفاء.", "رقصة بين الأيادي الخفية.", "لغز لا يفك شفرته إلا الزمن."],
      "نفاق": ["وجه يبتسم ويخفي ألف قناع.", "كلمة عسلية تخبئ سمًا.", "رقصة على حبلين، أحدهما يقطع الآخر.", "مرض يفتك بالقلوب قبل أن يظهر.", "ظل يطارد صاحبه بالخزي."],
      "هجر": ["نهاية صامتة لقصة كانت هنا.", "فراغ يتركه غياب من كان موجودًا.", "جسر يُقطع بلا عودة.", "ظل يطارد الذكريات.", "صمت يملأ المكان بعد الرحيل."],
      "وبال": ["حصاد مرير لزرع خاطئ.", "ظل يتبع الخطأ ليوقع بصاحبه.", "ثمن يُدفع لقرار غير حكيم.", "نذير شؤم يطرق الأبواب.", "نهاية لا تسر."],
      "يأس": ["ظلام يلف الروح بلا بصيص أمل.", "سجن بلا قضبان، لكنه يحبس الروح.", "صوت يهمس \"لا جدوى\".", "نهاية لكل طريق.", "غرق في بحر من العدم."],
      "اضطراب": ["رقصة عشوائية بلا إيقاع.", "بوصلة تشير إلى كل اتجاه.", "موجة لا تستقر على حال.", "فوضى داخلية تكسر الهدوء.", "عالم تتداخل فيه الأصوات."],
      "انفصال": ["قطع للروابط التي كانت تجمع.", "نهاية لكيان كان واحدًا.", "نقطة اللاعودة في العلاقات.", "ظل يتركه غياب النصف الآخر.", "صمت يتبع ضجيج الوداع."],
      "تسامي": ["تحليق الروح فوق وحل الأرض.", "ارتقاء الفكر إلى آفاق أرحب.", "تجاوز للقيود المادية.", "صعود نحو الكمال.", "نظرة من قمة الجبل."],
      "تصميم": ["خارطة طريق تُرسَم قبل البدء.", "رؤية تتجسد في شكل.", "إرادة تُبنى عليها كل خطوة.", "فن تحويل الفكرة إلى واقع.", "أساس كل بناء متين."],
      "تألق": ["شهابٌ يثقب ظلمة العادي.", "بريقٌ يُجبر الحواس على الانحناء.", "تمردُ الجوهر على قيود التماثل.", "لمسةُ الأبديّ في اللحظة العابرة.", "انكسارٌ للرتابة بسنّ المشهد."],
      "تحدي": ["دعوة لمواجهة المجهول بقلب ثابت.", "جبل يجب تسلقه للوصول للقمة.", "اختبار يخرج أفضل ما فيك.", "طريق لا يمكن تجنبه، بل يجب عبوره.", "صرخة في وجه المستحيل."],
      "ابتسامة": ["وميض صامت على الوجه.", "جسر غير مرئي بين القلوب.", "رد فعل للبهجة.", "تضيء قسمات الوجوه.", "لا تحتاج لصوت لتُفهم."],
      "ارتياح": ["شعور يتبع زوال ثقل.", "هدوء بعد عاصفة داخلية.", "نهاية لشدة كانت قائمة.", "تنهيدة عميقة.", "سكينة تملأ الفراغ."],
      "إصرار": ["وقود خفي للأهداف.", "خطوات لا تتوقف.", "قوة داخلية لا تعرف التراجع.", "عزم يكسر اليأس.", "تحدٍ صامت لكل عقبة."],
      "افتتان": ["سحر يأسرك بلا قيود.", "ذهول أمام ما يفوق الوصف.", "انجذاب لا إرادي.", "شعور يوقف الزمن.", "رغبة في البقاء قرب مصدره."],
      "إلهام": ["ومضة تضيء العقل.", "شرارة تشعل الإبداع.", "فكرة تنزل كالمطر.", "قوة خفية للابتكار.", "بداية لمشروع جديد."],
      "براءة": ["صفة في عيون الصغار.", "خلو من المكر.", "نقاء كصفحة بيضاء.", "بداية بلا تعقيد.", "شعور يبعث الثقة."],
      "تردد": ["تأرجح بين الخيارات.", "حالة من عدم الحسم.", "خطوات غير ثابتة.", "شعور يعيق القرار.", "قد يضيع الفرص."],
      "تكتم": ["سياج حول المعلومات.", "صمت يحيط بالأحداث.", "عدم البوح بالخاص.", "حفاظ على الأسرار.", "قد يكون ضروريًا أو مريبًا."],
      "ثقة": ["جسر يُبنى بين شخصين.", "شعور بالأمان مع الآخر.", "يقين بقدراتك.", "أساس كل علاقة قوية.", "تُمنح بصعوبة وتُفقد بسهولة."],
      "جرأة": ["خطوة تُتخذ رغم المخاوف.", "كسر للحواجز.", "قول الحقيقة في الصعاب.", "الإقدام على المجهول.", "قد يفتح أبوابًا جديدة."],
      "حنين": ["موجة من الماضي.", "شعور يربطك بزمن مضى.", "دمعة تروي ذكرى.", "زفير يتبع شهقة الذاكرة.", "صوت يأتيك من بعيد."],
      "خيال": ["عالم لا تحدّه الجدران.", "لوحة ترسمها العقول.", "مصدر لكل إبداع.", "رحلة دون مغادرة المكان.", "قد يصبح حقيقة."],
      "دعم": ["يد تُمد في الحاجة.", "سند يُقوّي الضعيف.", "كلمة تُرفع المعنويات.", "وقوف بجانب الآخرين.", "يُعطي القوة للمضي."],
      "ذكاء": ["سرعة الفهم والتحليل.", "قدرة على حل المشكلات.", "عقل يرى ما لا يراه الآخرون.", "نور يضيء دروب المعرفة.", "يُميز الإنسان."],
      "راحة": ["نهاية التعب والجهد.", "استرخاء يتبع نشاطًا.", "هدوء يحل على الجسد.", "شعور بالسكينة.", "توقف مؤقت لجمع القوى."],
      "حلم": ["عالم آخر نعيشه أحيانًا.", "قد يتحقق أو يبقى أمنية.", "يبدأ بفكرة بسيطة.", "يُبنى عليه المستقبل.", "قد يزورك في المنام."],
      "سعادة": ["شعور يملأ القلب.", "ابتسامة لا تزول.", "حالة من الرضا الداخلي.", "قد تجدها في أبسط الأشياء.", "ليست سلعة تُشترى."],
      "شغف": ["نار تشتعل في الروح.", "دافع قوي لا يُخمَد.", "حب عميق يدفعك.", "اندفاع نحو ما تحب.", "طاقة لا تنتهي."],
      "صداقة": ["علاقة تُبنى على الثقة.", "روابط غير دموية.", "مشاركة الأفراح والأحزان.", "وجود دائم في الشدائد.", "أخوة تختارها بنفسك."],
      "ضياع": ["فقدان الاتجاه أو الهدف.", "شعور بالتشتت.", "حيرة بلا نهاية.", "قد يتبعها بحث عن الذات.", "حالة من عدم الاستقرار."],
      "طموح": ["رغبة جامحة للقمة.", "سعي دائم للأفضل.", "أحلام كبيرة تدفعك.", "عدم الرضا بالواقع.", "وقود لتجاوز المستحيل."],
      "عتاب": ["لوم رقيق بين الأحبة.", "تذكير بالخطأ بلطف.", "كلمات لتصحيح المسار.", "مؤشر على أهمية العلاقة.", "قد يسبق المصالحة."],
      "غموض": ["ضبابية تحيط بالحقائق.", "شيء غير واضح.", "لغز يحتاج لحل.", "حجاب على الحقيقة.", "يثير الفضول أو القلق."],
      "فرصة": ["باب يُفتح في لحظة.", "إمكانية للتغيير.", "هبة من الزمن.", "يجب اقتناصها.", "قد تُغير مجرى حياتك."],
      "قوة": ["قدرة على التحمل.", "صلابة في المواقف.", "سيطرة على الظروف.", "بأس يظهر في الأداء.", "مناعة ضد الضعف."],
      "كراهية": ["مشاعر سلبية شديدة.", "نفور عميق من الآخر.", "حقد يتراكم في الصدر.", "رغبة في الابتعاد.", "نار داخلية قد تحرق."],
      "لحظة": ["وميض من الزمن.", "جزء صغير جدًا من الوقت.", "قد تكون حاسمة أو عابرة.", "لا يمكن إعادتها.", "تُشكل جزءًا من الذاكرة."],
      "مأساة": ["حدث مؤلم يسبب حزنًا.", "نهاية حزينة لقصة.", "دراما واقعية.", "فقدان كبير.", "تترك أثرًا لا يُمحى."],
      "نجاح": ["ثمرة جهد طويل.", "وصول للقمة.", "تحقيق الأهداف.", "فوز يتبع تعبًا.", "إثبات للكفاءة."],
      "هدوء": ["سكون يتبع حركة.", "سلام يملأ المكان.", "غياب الأصوات.", "استقرار في المشاعر.", "بحيرة بلا أمواج."],
      "وفاء": ["ثبات على العهد.", "إخلاص دائم.", "عدم نسيان الجميل.", "ارتباط قوي.", "صفة تُبنى عليها العلاقات."],
      "نور": ["يزيل الظلام.", "يمكن أن يأتي من بعيد.", "يُظهر الألوان والأشكال.", "بدونه، كل شيء خفي.", "رمز للأمل."],
      "أمل": ["نور يظهر في النفق.", "انتظار الأفضل.", "إيمان بالمستقبل.", "رفض لليأس.", "حلم قادم."],
      "إرادة": ["قوة داخلية للتغيير.", "عزم لا يهزم.", "قرار مصيري.", "سعي نحو الهدف.", "تحدي المستحيل."],
      "ابتكار": ["خروج عن المألوف.", "فكرة غير مسبوقة.", "إبداع يُغير التفكير.", "صنع شيء فريد.", "تجديد في الأساليب."],
      "احترام": ["تقدير لقيمة الآخرين.", "خفض الجناح في التعامل.", "اعتراف بالفضل.", "تعامل راقٍ.", "عدم التجاوز."],
      "استقرار": ["ثبات في الأحوال.", "هدوء بعد العاصفة.", "توازن دائم.", "شعور بالأمان.", "حياة منظمة."],
      "انطلاق": ["بداية قوية لرحلة.", "تحرر من القيود.", "سرعة في الأداء.", "إنهاء التوقف.", "قد يتبعه شعور بالحرية."],
      "برود": ["غياب المشاعر.", "تعامل خالٍ من العاطفة.", "رد فعل ضعيف.", "عدم الاكتراث.", "جفاف في العلاقات."],
      "تأمل": ["غوص عميق في الأفكار.", "رحلة داخلية.", "صفاء للذهن.", "تفكير عميق.", "هدوء يسبق البصيرة."],
      "تمرد": ["رفض لما هو سائد.", "ثورة على القواعد.", "خروج عن السيطرة.", "عصيان الأوامر.", "رغبة في التحرر."],
      "جمال": ["سحر يُرى في الطبيعة.", "تناسق يبهج العين.", "إشراقة تلفت الأنظار.", "رونق خاص.", "بهاء لا يوصف."],
      "حكمة": ["خبرة السنوات.", "كلام ذو معنى.", "قرارات صائبة.", "فهم عميق.", "رؤية بعيدة."],
      "خيانة": ["طعنة من حيث لا تتوقع.", "كسر للعهد.", "ثقة مهدرة.", "غدر بالأمانة.", "جرح لا يندمل."],
      "دراية": ["معرفة دقيقة.", "إحاطة بالموضوع.", "خبرة طويلة.", "فهم شامل.", "علم مفصل."],
      "سخرية": ["ضحكة مُرة.", "تعليق لاذع.", "استهزاء غير مباشر.", "نقد مقنع.", "لغة الهجوم الذكي."],
      "عطاء": ["بذل بلا حدود.", "سخاء القلب.", "عطاء بلا مقابل.", "تدفق الكرم.", "إغداق النعم."],
      "فراق": ["نهاية اللقاء.", "ألم الغياب.", "ذهاب بلا عودة.", "دموع الوداع.", "جرح في الذاكرة."],
      "صمت": ["لغة لا تحتاج لأصوات.", "فراغ يملأه الهدوء.", "لحظة تأمل عميق.", "قد يكون أبلغ من الكلام.", "حالة تسبق البوح أو تليه."],
      "شجاعة": ["مواجهة الخوف بقلب ثابت.", "الوقوف أمام التيار.", "الإقدام رغم العواقب.", "قوة داخلية تدفعك للأمام.", "ليست غياب الخوف، بل التغلب عليه."],
      "تسامح": ["صفح عن أخطاء الآخرين.", "إزالة الأحقاد من القلب.", "جسر يربط النفوس المتخاصمة.", "هدية منك لنفسك أولاً.", "قوة تظهر في العفو."],
      "فضول": ["رغبة ملحة في المعرفة.", "سؤال يطرق أبواب العقل.", "محرك للاكتشاف.", "عين ترى ما وراء الظاهر.", "قد يفتح آفاقًا جديدة."],
      "صبر": ["انتظار جميل للفرج.", "تحمل الصعاب برضا.", "قوة خفية في الشدائد.", "حبس النفس عن الجزع.", "مفتاح لكل خير."],
      "عزلة": ["ابتعاد عن الضجيج.", "اختيار للوحدة.", "فرصة للتفكير العميق.", "قد تكون ملاذاً أو سجنًا.", "حالة من الانفصال عن العالم."],
      "شوق": ["لهيب في القلب للمحبوب.", "أمنية قوية للقاء.", "حنين يمزج الفرح بالحزن.", "انتظار يطول.", "شعور يربطك بالبعيد."],
      "حيرة": ["تيه بين الطرق.", "عجز عن اتخاذ القرار.", "سؤال بلا إجابة واضحة.", "ضبابية في الرؤية.", "شعور يسبق الوضوح أو اليأس."],
      "تضحية": ["عطاء بلا مقابل.", "تقديم الأغلى من أجل الآخر.", "إيثار يظهر في المواقف الصعبة.", "بذل الجهد أو المال أو النفس.", "علامة على الحب العميق."],
      "فخر": ["شعور بالرضا عن الإنجاز.", "اعتزاز بالذات أو بالآخرين.", "رفعة في النفس بعد النجاح.", "إظهار الكرامة.", "نتيجة لجهد مقدر."],
      "ألم": ["شعور حاد في الجسد أو الروح.", "قد يكون صامتًا أو صاخبًا.", "يذكرنا بأننا أحياء.", "قد يسبق الشفاء أو التغيير.", "تجربة لا تُنسى."],
      "إخلاص": ["صدق في القول والعمل.", "صفاء النية.", "ثبات على المبادئ.", "أساس كل علاقة حقيقية.", "عمل لا يرجو إلا رضا الله."],
      "تأخير": ["إرجاء لحدث أو موعد.", "قد يسبب القلق أو الراحة.", "وقت إضافي للتفكير.", "قد يغير الخطط.", "قد يكون مقصودًا أو غير مقصود."],
      "جدية": ["تركيز في التعامل.", "اهتمام بالغ بالموضوع.", "وجه خالٍ من المزاح.", "التزام بالعمل.", "صفة تُظهر الاحترام."],
      "حذر": ["خطوات محسوبة.", "انتباه للمخاطر.", "تفكير قبل الإقدام.", "تجنب الوقوع في الخطأ.", "قد ينقذ من سوء."],
      "خوف": ["شعور يوقظ الحواس.", "قد يشل الحركة أو يدفع للهروب.", "رد فعل طبيعي للمجهول.", "قد يكون وهميًا أو حقيقيًا.", "حاجز يحتاج للكسر."],
      "دقة": ["اهتمام بالتفاصيل الصغيرة.", "عمل خالٍ من الأخطاء.", "قياسات مضبوطة.", "إتقان في الأداء.", "صفة تُظهر الاحترافية."],
      "رغبة": ["ميل قوي نحو شيء.", "شعور يدفع للبحث.", "أمنية تتردد في النفس.", "قد تكون بسيطة أو عميقة.", "بداية لكل سعي."],
      "سكون": ["غياب الحركة أو الصوت.", "هدوء يملأ المكان.", "حالة من الثبات.", "قد يسبق العاصفة أو يتبعها.", "راحة للروح."],
      "شك": ["تردد بين اليقين والظن.", "سؤال يطرح نفسه.", "عدم الثقة الكاملة.", "قد يدفع للبحث عن الحقيقة.", "شعور يزعزع الاستقرار."],
      "شفاء": ["عودة الصحة بعد المرض.", "جبر للكسر.", "نهاية للألم.", "بداية جديدة للحياة.", "نعمة بعد بلاء."],
      "صراع": ["مواجهة بين قوتين.", "نزاع داخلي أو خارجي.", "تنافس على هدف.", "قد يكون عنيفًا أو صامتًا.", "قد ينتج عنه فوز أو خسارة."],
      "ضيق": ["شعور بالانزعاج أو الحزن.", "مساحة محدودة.", "صعوبة في التنفس.", "قد يتبعه فرج.", "حالة من عدم الارتياح."],
      "طاعة": ["امتثال للأوامر.", "خضوع للإرادة.", "احترام للقواعد.", "قد تكون عن حب أو خوف.", "أساس النظام."],
      "عدل": ["إعطاء كل ذي حق حقه.", "ميزان لا يميل.", "إنصاف للمظلوم.", "أساس الحكم الرشيد.", "صفة تجلب الطمأنينة."],
      "غضب": ["نار تشتعل في الصدر.", "رد فعل قوي على الظلم.", "قد يعمي البصيرة.", "قوة مدمرة أو محفزة.", "شعور يحتاج للسيطرة."],
      "فشل": ["عدم تحقيق الهدف.", "نهاية غير مرغوبة.", "سقوط بعد محاولة.", "قد يكون درسًا أو نهاية.", "ليس النهاية، بل بداية جديدة."],
      "قلق": ["شعور بالتوتر وعدم الراحة.", "تفكير مستمر في المستقبل.", "خوف من المجهول.", "قد يؤثر على النوم والتركيز.", "حاجة للطمأنينة."],
      "كرم": ["جود بالنفس والمال.", "عطاء بلا حساب.", "سخاء في التعامل.", "صفة تُحبب الناس.", "يد ممدودة بالخير."],
      "لذة": ["شعور بالمتعة والرضا.", "إحساس جميل يملأ الحواس.", "نتيجة لعمل أو تجربة.", "قد تكون عابرة أو دائمة.", "مكافأة للنفس."],
      "مرح": ["ضحكات تملأ المكان.", "سعادة خفيفة.", "جو من البهجة.", "لعب وتسلية.", "شعور ينسيك الهموم."],
      "نظام": ["ترتيب للأشياء.", "قواعد تحكم الحركة.", "تناسق في الأداء.", "أساس لكل نجاح.", "غيابه يسبب الفوضى."],
      "هزيمة": ["خسارة في معركة أو منافسة.", "تراجع بعد تقدم.", "شعور بالمرارة.", "قد تكون مؤقتة أو دائمة.", "درس لتعلم القوة."],
      "وحدة": ["شعور بالانفراد.", "غياب الرفقة.", "قد تكون اختيارًا أو قدرًا.", "فرصة للتأمل أو مصدر للحزن.", "حالة من الانفصال."],
      "يقين": ["ثقة تامة بالشيء.", "معرفة لا تقبل الشك.", "إيمان راسخ.", "نهاية للحيرة.", "أساس كل قرار ثابت."],
      "تفاؤل": ["رؤية الجانب المشرق.", "انتظار الخير.", "إيمان بأن القادم أفضل.", "نور في الظلام.", "قوة تدفع للأمام."],
      "إبداع": ["فكرة تخرج عن المألوف.", "صنع شيء جديد.", "لمسة فنية فريدة.", "قدرة على التخيل.", "روح لا تعرف التقليد."],
      "تواصل": ["جسر بين العقول.", "تبادل للأفكار.", "فهم متبادل.", "أساس كل علاقة.", "لغة تجمع البشر."],
      "صمود": ["ثبات أمام الشدائد.", "عدم الاستسلام.", "قوة في المواجهة.", "رفض للانكسار.", "إرادة لا تلين."],
      "حماية": ["درع ضد الخطر.", "أمان في مواجهة التهديد.", "رعاية للأضعف.", "سياج يمنع الضرر.", "يد تمتد لإنقاذ."],
      "تنمية": ["نمو وتطور مستمر.", "بناء للمستقبل.", "استثمار في القدرات.", "إضافة قيمة.", "سعي نحو الأفضل."],
      "إصلاح": ["تصحيح للخطأ.", "إعادة بناء ما فسد.", "تحسين للأوضاع.", "بداية جديدة بعد الخلل.", "سعي نحو الكمال."],
      "تأثير": ["بصمة تتركها.", "تغيير يحدثه وجودك.", "قوة غير مرئية.", "صدى لأفعالك.", "قدرة على إحداث فرق."],
      "توازن": ["استقرار بين الأطراف.", "اعتدال في كل شيء.", "تناغم بين المكونات.", "أساس الصحة والهدوء.", "ميزان لا يميل."],
      "تطوير": ["إضافة جديد للموجود.", "تحسين مستمر.", "نقلة نوعية.", "تحديث للأفكار.", "سعي نحو التميز."],
      "تفكير": ["رحلة داخل العقل.", "بناء للأفكار.", "تحليل للمعلومات.", "أساس كل قرار.", "عملية مستمرة."],
      "تفاهم": ["التقاء العقول على نقطة.", "إدراك متبادل.", "جسر يزيل سوء الظن.", "أساس للتعاون.", "لغة القلوب."],
      "تأقلم": ["قدرة على التكيف.", "استجابة للتغيير.", "مرونة في الظروف.", "قبول للواقع الجديد.", "مفتاح البقاء."]
    };
    let timer, remainingTime, isPaused = false;

    // دالة لعرض رسالة مؤقتة (بدلاً من alert)
    function showTemporaryMessage(message, duration = 2000) {
      const messageBox = document.createElement('div');
      messageBox.className = 'message-box';
      messageBox.textContent = message;
      document.body.appendChild(messageBox);

      // Show the message with a fade-in effect
      setTimeout(() => {
        messageBox.classList.add('show');
      }, 10); // Small delay to allow CSS transition

      // Hide and remove the message after duration
      setTimeout(() => {
        messageBox.classList.remove('show');
        messageBox.addEventListener('transitionend', () => messageBox.remove());
      }, duration);
    }

    // إنشاء حقول أسماء الفرق
    function renderTeamNameInputs() {
      teamNamesDiv.innerHTML = '';
      const count = parseInt(teamCountInput.value, 10);
      for (let i = 1; i <= count; i++) {
        const input = document.createElement('input');
        input.placeholder = `اسم الفريق ${i}`;
        input.id = `teamName${i}`;
        input.className = 'w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-lg';
        teamNamesDiv.appendChild(input);
      }
    }
    teamCountInput.addEventListener('change', renderTeamNameInputs);
    renderTeamNameInputs(); // استدعاء أولي لإنشاء حقول الأسماء الافتراضية

    // ملء قائمة اختيار الكلمات عند تحميل الصفحة
    function populateWordSelect() {
      wordSelect.innerHTML = '<option value="" disabled selected>-- اختر --</option>';
      for (const word in hintsData) {
        const opt = document.createElement('option');
        opt.value = word;
        opt.textContent = word;
        wordSelect.appendChild(opt);
      }
    }
    populateWordSelect(); // استدعاء لملء قائمة الكلمات

    // بدء اللعبة
    startGameBtn.addEventListener('click', () => {
      teams = [];
      const count = parseInt(teamCountInput.value, 10);
      for (let i = 1; i <= count; i++) {
        const nameInput = document.getElementById(`teamName${i}`);
        const name = nameInput ? nameInput.value.trim() : `فريق ${i}`; // التأكد من وجود العنصر
        teams.push({ name, score: 0 });
      }
      updateScoreBoard();
      populateTeamSelect();
      registration.classList.add('hidden');
      game.classList.remove('hidden');
    });

    // تحديث جدول النقاط
    function updateScoreBoard() {
      scoreBoard.innerHTML = '';
      teams.forEach((t) => {
        const row = document.createElement('tr');
        row.className = 'border-b border-gray-600 last:border-b-0';
        row.innerHTML = `<td class="py-3 px-4 text-lg">${t.name}</td><td class="py-3 px-4 text-lg font-bold">${t.score}</td>`;
        scoreBoard.appendChild(row);
      });
    }

    // ملء قائمة اختيار الفريق
    function populateTeamSelect() {
      teamSelect.innerHTML = '<option value="" disabled selected>-- اختر الفريق --</option>';
      teams.forEach((t, idx) => {
        const opt = document.createElement('option');
        opt.value = idx;
        opt.textContent = t.name;
        teamSelect.appendChild(opt);
      });
    }

    // عند اختيار كلمة، إظهار التلميحات مع زر النسخ
    wordSelect.addEventListener('change', () => {
      hintsDiv.innerHTML = '';
      const word = wordSelect.value;
      if (hintsData[word]) { // التأكد من وجود الكلمة في البيانات
        hintsData[word].forEach((h, idx) => {
          const hintItem = document.createElement('div');
          hintItem.className = 'hint-item'; // Use flex for alignment

          const hintText = document.createElement('p');
          hintText.className = 'hint-text';
          hintText.textContent = `تلميح ${idx + 1}: ${h}`;
          
          const copyButton = document.createElement('button');
          copyButton.className = 'copy-btn';
          copyButton.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16">
              <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
            </svg>
            <span class="mr-1">نسخ</span>
          `; // SVG icon for copy
          copyButton.title = 'نسخ التلميح'; // Tooltip

          copyButton.addEventListener('click', () => {
            // Create a temporary textarea element to copy text
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = h; // The actual hint text
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            try {
              document.execCommand('copy');
              showTemporaryMessage('تم النسخ!');
            } catch (err) {
              console.error('Failed to copy text: ', err);
              showTemporaryMessage('فشل النسخ.');
            }
            document.body.removeChild(tempTextArea);
          });

          hintItem.appendChild(copyButton);
          hintItem.appendChild(hintText);
          hintsDiv.appendChild(hintItem);
        });
      } else {
        hintsDiv.innerHTML = '<p class="text-red-400">لا توجد تلميحات لهذه الكلمة.</p>';
      }
    });

    // إضافة النقاط للفريق
    pointButtons.forEach(btn =>
      btn.addEventListener('click', () => {
        const teamIdx = parseInt(teamSelect.value, 10);
        if (isNaN(teamIdx)) {
          // استخدام رسالة مخصصة بدلاً من alert
          const messageBox = document.createElement('div');
          messageBox.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';
          messageBox.innerHTML = `
            <div class="bg-gray-800 p-8 rounded-lg shadow-xl text-center">
              <p class="text-xl text-red-400 mb-4">الرجاء اختيار الفريق أولاً!</p>
              <button class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg" onclick="this.parentNode.parentNode.remove()">موافق</button>
            </div>
          `;
          document.body.appendChild(messageBox);
          return;
        }
        const pts = parseInt(btn.dataset.points, 10);
        teams[teamIdx].score += pts;
        updateScoreBoard();
        // تنظيف للاجابة التالية
        wordSelect.value = '';
        hintsDiv.innerHTML = '<p class="text-gray-400">التلميحات ستظهر هنا بعد اختيار الكلمة.</p>';
        teamSelect.value = ''; // إعادة تعيين اختيار الفريق
        populateWordSelect(); // إعادة ملء قائمة الكلمات بعد الإجابة
      })
    );

    // مؤقت
    function updateTimerDisplay() {
      const m = String(Math.floor(remainingTime / 60)).padStart(2, '0');
      const s = String(remainingTime % 60).padStart(2, '0');
      timeDisplay.textContent = `${m}:${s}`;
    }

    startTimerBtn.addEventListener('click', () => {
      clearInterval(timer);
      remainingTime = parseInt(timerInput.value, 10);
      updateTimerDisplay();
      isPaused = false;
      startTimerBtn.textContent = 'ابدأ'; // إعادة تعيين النص
      pauseTimerBtn.textContent = 'إيقاف'; // إعادة تعيين النص
      timer = setInterval(() => {
        if (!isPaused && remainingTime > 0) {
          remainingTime--;
          updateTimerDisplay();
          if (remainingTime === 0) {
            clearInterval(timer);
            // beepAudio.play(); // تم التعليق عليه
            // رسالة انتهاء الوقت
            const messageBox = document.createElement('div');
            messageBox.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';
            messageBox.innerHTML = `
              <div class="bg-gray-800 p-8 rounded-lg shadow-xl text-center">
                <p class="text-xl text-red-400 mb-4">انتهى الوقت!</p>
                <button class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg" onclick="this.parentNode.parentNode.remove()">موافق</button>
              </div>
            `;
            document.body.appendChild(messageBox);
          }
        }
      }, 1000);
    });

    pauseTimerBtn.addEventListener('click', () => {
      isPaused = !isPaused;
      pauseTimerBtn.textContent = isPaused ? 'استئناف' : 'إيقاف';
    });

    resetTimerBtn.addEventListener('click', () => {
      clearInterval(timer);
      remainingTime = parseInt(timerInput.value, 10);
      updateTimerDisplay();
      isPaused = false;
      pauseTimerBtn.textContent = 'إيقاف/استئناف';
      startTimerBtn.textContent = 'ابدأ'; // إعادة تعيين النص
    });

    // إعادة تهيئة كاملة للعبة
    resetGameBtn.addEventListener('click', () => {
      window.location.reload();
    });
  </script>
</body>
</html>

